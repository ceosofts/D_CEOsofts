‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Unit) ‡πÉ‡∏ô Laravel + SQLite
‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
üéØ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

üî• 1. ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Unit) ‡∏°‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô:

‡∏≠‡∏±‡∏ô
‡πÄ‡∏™‡πâ‡∏ô
‡πÄ‡∏°‡∏ï‡∏£
‡∏ó‡πà‡∏≠‡∏ô
üîπ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á:

units ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
products ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå unit_id ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö units
‚úÖ 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Model, Migration ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
üìå 2.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á Model ‡πÅ‡∏•‡∏∞ Migration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Unit
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:model Unit -m
‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏ü‡∏•‡πå

app/Models/Unit.php
database/migrations/xxxx_xx_xx_xxxxxx_create_units_table.php
üìå 2.2 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Migration create_units_table.php
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function up()
{
    Schema::create('units', function (Blueprint $table) {
        $table->id();
        $table->string('name')->unique();
        $table->timestamps();
    });
}
üìå 2.3 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå unit_id ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á products
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:migration add_unit_id_to_products_table --table=products
‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå Migration ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function up()
{
    Schema::table('products', function (Blueprint $table) {
        $table->foreignId('unit_id')->nullable()->constrained('units')->onDelete('set null');
    });
}
üìå 2.4 ‡∏£‡∏±‡∏ô Migration
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan migrate
üìå 2.5 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ô DatabaseSeeder.php
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
use App\Models\Unit;

public function run()
{
    Unit::insert([
        ['name' => '‡∏≠‡∏±‡∏ô'],
        ['name' => '‡πÄ‡∏™‡πâ‡∏ô'],
        ['name' => '‡πÄ‡∏°‡∏ï‡∏£'],
        ['name' => '‡∏ó‡πà‡∏≠‡∏ô'],
    ]);
}
‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏£‡∏±‡∏ô

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan db:seed
‚úÖ 3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (relationship) ‡πÉ‡∏ô Model
üìå 3.1 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Unit.php
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Unit extends Model
{
    use HasFactory;

    protected $fillable = ['name'];

    public function products()
    {
        return $this->hasMany(Product::class);
    }
}
üìå 3.2 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Product.php
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Product extends Model
{
    use HasFactory;

    protected $fillable = ['code', 'name', 'description', 'price', 'stock_quantity', 'sku', 'unit_id'];

    public function unit()
    {
        return $this->belongsTo(Unit::class, 'unit_id');
    }
}
‚úÖ 4. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
üìå 4.1 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πâ‡∏≤ create.blade.php
blade
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
<div class="form-group">
    <label for="unit_id">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
    <select name="unit_id" class="form-control" required>
        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>
        @foreach(App\Models\Unit::all() as $unit)
            <option value="{{ $unit->id }}">{{ $unit->name }}</option>
        @endforeach
    </select>
</div>
üìå 4.2 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πâ‡∏≤ edit.blade.php
blade
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
<div class="form-group">
    <label for="unit_id">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
    <select name="unit_id" class="form-control" required>
        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>
        @foreach(App\Models\Unit::all() as $unit)
            <option value="{{ $unit->id }}" {{ $product->unit_id == $unit->id ? 'selected' : '' }}>
                {{ $unit->name }}
            </option>
        @endforeach
    </select>
</div>
‚úÖ 5. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Controller ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö unit_id
üìå 5.1 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ProductController.php
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function store(Request $request)
{
    $request->validate([
        'name' => 'required|string|max:255',
        'description' => 'nullable|string',
        'price' => 'required|numeric|min:0',
        'stock_quantity' => 'required|integer|min:0',
        'unit_id' => 'required|exists:units,id',
        'sku' => 'required|string|max:20|unique:products,sku',
    ]);

    Product::create($request->all());

    return redirect()->route('products.index')->with('success', 'Product added successfully.');
}

public function update(Request $request, Product $product)
{
    $request->validate([
        'name' => 'required|string|max:255',
        'description' => 'nullable|string',
        'price' => 'required|numeric|min:0',
        'stock_quantity' => 'required|integer|min:0',
        'unit_id' => 'required|exists:units,id',
        'sku' => 'required|string|max:20|unique:products,sku,' . $product->id,
    ]);

    $product->update($request->all());

    return redirect()->route('products.index')->with('success', 'Product updated successfully.');
}
‚úÖ 6. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö
‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: unit_id ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
üìå ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: Laravel ‡πÉ‡∏ä‡πâ Cache ‡∏´‡∏£‡∏∑‡∏≠ Model ‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
$product->refresh();
‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: Product::update() ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
üìå ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: unit_id ‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô $fillable
‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
protected $fillable = ['code', 'name', 'description', 'price', 'stock_quantity', 'sku', 'unit_id'];
‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: SQLite ‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤
üìå ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: SQLite ‡∏≠‡∏≤‡∏à‡∏•‡πá‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Cache
‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
sqlite3 database/database.sqlite
SELECT * FROM products;
UPDATE products SET unit_id = 2 WHERE id = 1;
‡∏ñ‡πâ‡∏≤‡πÅ‡∏Å‡πâ‡∏ú‡πà‡∏≤‡∏ô SQL ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà Laravel ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
use Illuminate\Support\Facades\DB;

DB::table('products')->where('id', $product->id)->update([
    'unit_id' => $request->unit_id,
    'updated_at' => now(),
]);
üéØ ‡∏™‡∏£‡∏∏‡∏õ
‡∏õ‡∏±‡∏ç‡∏´‡∏≤	‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
unit_id ‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï	‡πÉ‡∏ä‡πâ $product->refresh();
Product::update() ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô	‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö $fillable
SQLite ‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤	‡πÉ‡∏ä‡πâ DB::table()
üéâ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß! üöÄ
üìå ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö! üòä


‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Unit) ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏ô‡∏à‡∏ô‡∏à‡∏ö
üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

‡πÄ‡∏û‡∏¥‡πà‡∏°-‡∏•‡∏ö-‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô "‡∏ä‡∏¥‡πâ‡∏ô", "‡πÄ‡∏°‡∏ï‡∏£", "‡∏Å‡∏•‡πà‡∏≠‡∏á"
‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Product) ‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Unit)
‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡πÇ‡∏ã‡∏ô Admin ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ
üî• STEP 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
1Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á units
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:migration create_units_table --create=units
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç database/migrations/xxxx_xx_xx_create_units_table.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function up()
{
    Schema::create('units', function (Blueprint $table) {
        $table->id();
        $table->string('name')->unique();
        $table->timestamps();
    });
}
üìå ‡∏£‡∏±‡∏ô Migration

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan migrate
2Ô∏è‚É£ ‡πÄ‡∏û‡∏¥‡πà‡∏° unit_id ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á products
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:migration add_unit_id_to_products_table --table=products
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç database/migrations/xxxx_xx_xx_add_unit_id_to_products_table.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function up()
{
    Schema::table('products', function (Blueprint $table) {
        $table->foreignId('unit_id')->nullable()->constrained('units')->onDelete('set null');
    });
}
üìå ‡∏£‡∏±‡∏ô Migration

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan migrate
üî• STEP 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Model ‡πÅ‡∏•‡∏∞ Controller
1Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á Unit Model
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:model Unit
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Models/Unit.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Unit extends Model
{
    use HasFactory;

    protected $fillable = ['name'];

    public function products()
    {
        return $this->hasMany(Product::class);
    }
}
2Ô∏è‚É£ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Product Model ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö Unit
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Models/Product.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function unit()
{
    return $this->belongsTo(Unit::class);
}
3Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á UnitController
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:controller Admin/UnitController --resource
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Http/Controllers/Admin/UnitController.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use App\Models\Unit;

class UnitController extends Controller
{
    public function __construct()
    {
        $this->middleware('can:manage units');
    }

    public function index()
    {
        $units = Unit::all();
        return view('admin.units.index', compact('units'));
    }

    public function create()
    {
        return view('admin.units.create');
    }

    public function store(Request $request)
    {
        $request->validate(['name' => 'required|string|max:255|unique:units']);
        Unit::create(['name' => $request->name]);
        return redirect()->route('units.index')->with('success', '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }

    public function edit(Unit $unit)
    {
        return view('admin.units.edit', compact('unit'));
    }

    public function update(Request $request, Unit $unit)
    {
        $request->validate(['name' => 'required|string|max:255|unique:units,name,' . $unit->id]);
        $unit->update(['name' => $request->name]);
        return redirect()->route('units.index')->with('success', '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }

    public function destroy(Unit $unit)
    {
        if ($unit->products()->count() > 0) {
            return redirect()->route('units.index')->with('error', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà');
        }
        $unit->delete();
        return redirect()->route('units.index')->with('success', '‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }
}
üî• STEP 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ View ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin
üìå ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå resources/views/admin/units/
pgsql
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
resources/views/admin/units/
    ‚îú‚îÄ‚îÄ index.blade.php  (‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
    ‚îú‚îÄ‚îÄ create.blade.php (‡πÄ‡∏û‡∏¥‡πà‡∏°)
    ‚îú‚îÄ‚îÄ edit.blade.php   (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
1Ô∏è‚É£ ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (index.blade.php)
blade
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
@extends('layouts.app')

@section('content')
<div class="container">
    <h1>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
    <a href="{{ route('units.create') }}" class="btn btn-primary mb-3">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>

    @if(session('success'))
        <div class="alert alert-success">{{ session('success') }}</div>
    @endif

    @if(session('error'))
        <div class="alert alert-danger">{{ session('error') }}</div>
    @endif

    <table class="table">
        <thead>
            <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
        </thead>
        <tbody>
            @foreach($units as $unit)
                <tr>
                    <td>{{ $unit->name }}</td>
                    <td>
                        <a href="{{ route('units.edit', $unit->id) }}" class="btn btn-warning">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
                        <form action="{{ route('units.destroy', $unit->id) }}" method="POST" style="display:inline;">
                            @csrf
                            @method('DELETE')
                            <button type="submit" class="btn btn-danger" onclick="return confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö?')">‡∏•‡∏ö</button>
                        </form>
                    </td>
                </tr>
            @endforeach
        </tbody>
    </table>
</div>
@endsection
üî• STEP 4: ‡πÄ‡∏û‡∏¥‡πà‡∏° Middleware ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin
üìå ‡∏™‡∏£‡πâ‡∏≤‡∏á Middleware AdminMiddleware

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:middleware AdminMiddleware
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Http/Middleware/AdminMiddleware.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class AdminMiddleware
{
    public function handle(Request $request, Closure $next)
    {
        if (!Auth::check() || !Auth::user()->hasRole('admin')) {
            abort(403, 'Unauthorized.');
        }
        return $next($request);
    }
}
üìå ‡πÄ‡∏û‡∏¥‡πà‡∏° Middleware ‡πÉ‡∏ô app/Http/Kernel.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
protected $routeMiddleware = [
    'admin' => \App\Http\Middleware\AdminMiddleware::class,
];
üî• STEP 5: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ Admin
üìå ‡πÉ‡∏ä‡πâ Tinker ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan tinker
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
use Spatie\Permission\Models\Permission;
use Spatie\Permission\Models\Role;

Permission::create(['name' => 'manage units']);

$adminRole = Role::where('name', 'admin')->first();
$adminRole->givePermissionTo('manage units');
üî• STEP 6: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤ http://127.0.0.1:8000/admin/units
‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Tinker ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

üéØ ‡∏™‡∏£‡∏∏‡∏õ
üõ† ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á units ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° unit_id ‡πÉ‡∏ô products
‚öô ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Product ‡∏Å‡∏±‡∏ö Unit ‡∏ú‡πà‡∏≤‡∏ô hasMany ‡πÅ‡∏•‡∏∞ belongsTo
üîê ‡πÉ‡∏ä‡πâ Middleware ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå manage units ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin
üé® ‡∏™‡∏£‡πâ‡∏≤‡∏á View ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin
üöÄ ‡πÄ‡∏û‡∏¥‡πà‡∏°-‡∏•‡∏ö-‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
üî• ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå! üéâ
üìå ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÅ‡∏à‡πâ‡∏á‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üòä


/////////////////////////// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏° //////////////////////////////////////////////

‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Unit)" ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏ô‡∏à‡∏ô‡∏à‡∏ö
üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:
‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Unit)" ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏¥‡πâ‡∏ô, ‡πÄ‡∏°‡∏ï‡∏£, ‡∏Å‡∏•‡πà‡∏≠‡∏á
‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Product) ‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°-‡∏•‡∏ö-‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
‚úÖ ‡∏¢‡πâ‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ã‡∏ô Admin

üî• STEP 1: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° Product ‡∏Å‡∏±‡∏ö Unit
‚úÖ 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° unit_id ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á products
‡πÄ‡∏£‡∏≤‡∏°‡∏µ ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (products) ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå unit_id
üìå ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå unit_id ‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á products

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:migration add_unit_id_to_products_table --table=products
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå database/migrations/xxxx_xx_xx_add_unit_id_to_products_table.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function up()
{
    Schema::table('products', function (Blueprint $table) {
        $table->foreignId('unit_id')->nullable()->constrained('units')->onDelete('set null');
    });
}
üìå ‡∏£‡∏±‡∏ô Migration ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏£‡∏≤‡∏á

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan migrate
‚úÖ 2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Product Model ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö Unit
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Models/Product.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Product extends Model
{
    use HasFactory;

    protected $fillable = ['code', 'name', 'description', 'price', 'stock_quantity', 'sku', 'unit_id'];

    public function unit()
    {
        return $this->belongsTo(Unit::class);
    }
}
‚úÖ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!

üî• STEP 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Model Unit
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:model Unit
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Models/Unit.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Unit extends Model
{
    use HasFactory;

    protected $fillable = ['name'];

    public function products()
    {
        return $this->hasMany(Product::class);
    }
}
‚úÖ 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á UnitController
sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:controller Admin/UnitController --resource
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç app/Http/Controllers/Admin/UnitController.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use App\Models\Unit;

class UnitController extends Controller
{
    public function __construct()
    {
        $this->middleware('can:manage units');
    }

    public function index()
    {
        $units = Unit::all();
        return view('admin.units.index', compact('units'));
    }

    public function create()
    {
        return view('admin.units.create');
    }

    public function store(Request $request)
    {
        $request->validate(['name' => 'required|string|max:255|unique:units']);
        Unit::create(['name' => $request->name]);
        return redirect()->route('units.index')->with('success', '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }

    public function edit(Unit $unit)
    {
        return view('admin.units.edit', compact('unit'));
    }

    public function update(Request $request, Unit $unit)
    {
        $request->validate(['name' => 'required|string|max:255|unique:units,name,' . $unit->id]);
        $unit->update(['name' => $request->name]);
        return redirect()->route('units.index')->with('success', '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }

    public function destroy(Unit $unit)
    {
        if ($unit->products()->count() > 0) {
            return redirect()->route('units.index')->with('error', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà');
        }
        $unit->delete();
        return redirect()->route('units.index')->with('success', '‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }
}
üî• STEP 3: ‡πÄ‡∏û‡∏¥‡πà‡∏° Route ‡πÅ‡∏•‡∏∞ ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
üìå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç routes/web.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
use App\Http\Controllers\Admin\UnitController;

Route::middleware(['auth', 'can:manage units'])->prefix('admin')->group(function () {
    Route::resource('units', UnitController::class);
});
‚úÖ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á admin/units ‡πÑ‡∏î‡πâ

üî• STEP 4: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ Admin ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
üìå ‡πÉ‡∏ä‡πâ Tinker ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

sh
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan tinker
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
use Spatie\Permission\Models\Permission;
use Spatie\Permission\Models\Role;

Permission::create(['name' => 'manage units']);

$adminRole = Role::where('name', 'admin')->first();
$adminRole->givePermissionTo('manage units');
‚úÖ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ

üî• STEP 5: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ View
üìå ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

pgsql
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
resources/views/admin/units/
    ‚îú‚îÄ‚îÄ index.blade.php  (‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
    ‚îú‚îÄ‚îÄ create.blade.php (‡πÄ‡∏û‡∏¥‡πà‡∏°)
    ‚îú‚îÄ‚îÄ edit.blade.php   (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
‚úÖ 1. index.blade.php (‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
blade
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
@extends('layouts.app')

@section('content')
<div class="container">
    <h1>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
    <a href="{{ route('units.create') }}" class="btn btn-primary mb-3">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>

    @if(session('success'))
        <div class="alert alert-success">{{ session('success') }}</div>
    @endif

    @if(session('error'))
        <div class="alert alert-danger">{{ session('error') }}</div>
    @endif

    <table class="table">
        <thead>
            <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
        </thead>
        <tbody>
            @foreach($units as $unit)
                <tr>
                    <td>{{ $unit->name }}</td>
                    <td>
                        <a href="{{ route('units.edit', $unit->id) }}" class="btn btn-warning">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
                        <form action="{{ route('units.destroy', $unit->id) }}" method="POST" style="display:inline;">
                            @csrf
                            @method('DELETE')
                            <button type="submit" class="btn btn-danger" onclick="return confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö?')">‡∏•‡∏ö</button>
                        </form>
                    </td>
                </tr>
            @endforeach
        </tbody>
    </table>
</div>
@endsection
üî• STEP 6: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤ http://127.0.0.1:8000/admin/units
‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Tinker ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

üéØ ‡∏™‡∏£‡∏∏‡∏õ
‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô	‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° unit_id ‡πÉ‡∏ô products	‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á Model Unit	‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á Controller UnitController	‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°-‡∏•‡∏ö-‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° Route /admin/units	‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin
‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå manage units	‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
‚úÖ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ	‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡πÑ‡∏î‡πâ
üöÄ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!
üìå ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢ ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üòä


//////////////////////////// ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏à‡∏£‡∏¥‡∏á‡πÜ ////////////////////////

‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö Unit ‡πÉ‡∏ô Laravel
üîé ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á

üéØ 1. ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö Unit
‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥ ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ Unit (‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤) ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á Products (‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)
‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å:

‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Unit
‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç, ‡∏•‡∏ö Unit ‡πÑ‡∏î‡πâ
‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á Unit ‡∏Å‡∏±‡∏ö Product
üõ† 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Unit
üîπ 2.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á Migration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö units
‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á units

bash
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:migration create_units_table --create=units
‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô database/migrations/YYYY_MM_DD_create_units_table.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function up()
{
    Schema::create('units', function (Blueprint $table) {
        $table->id();
        $table->string('name')->unique(); // ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥
        $table->timestamps();
    });
}
‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Migration

bash
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan migrate
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á Unit ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢

üèó 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Model Unit
‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á

bash
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:model Unit
‡πÑ‡∏ü‡∏•‡πå: app/Models/Unit.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Unit extends Model
{
    use HasFactory;
    
    protected $fillable = ['name'];
}
‚úÖ Unit Model ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

üñ• 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Controller ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á

bash
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
php artisan make:controller Admin/UnitController --resource
‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á: app/Http/Controllers/Admin/UnitController.php

üöÄ 5. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô UnitController
üîπ 5.1 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (index)
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function index()
{
    $units = Unit::all();
    return view('admin.units.index', compact('units'));
}
üîπ 5.2 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° Unit (create, store)
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function create()
{
    return view('admin.units.create');
}

public function store(Request $request)
{
    $request->validate([
        'name' => 'required|unique:units,name|max:255',
    ]);

    Unit::create($request->all());

    return redirect()->route('admin.units.index')->with('success', '‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
}
üîπ 5.3 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Unit (edit, update)
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function edit(Unit $unit)
{
    return view('admin.units.edit', compact('unit'));
}

public function update(Request $request, Unit $unit)
{
    $request->validate([
        'name' => 'required|unique:units,name,' . $unit->id . '|max:255',
    ]);

    $unit->update($request->all());

    return redirect()->route('admin.units.index')->with('success', '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
}
üîπ 5.4 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏ö Unit
php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
public function destroy(Unit $unit)
{
    $unit->delete();
    return redirect()->route('admin.units.index')->with('success', '‡∏•‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
}
‚úÖ Controller ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

üõ£ 6. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Routes
‡πÑ‡∏ü‡∏•‡πå: routes/web.php

php
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
Route::middleware(['auth', 'role:admin'])->prefix('admin')->name('admin.')->group(function () {
    Route::resource('units', UnitController::class)->except(['show']);
});
‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Route ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Units

üé® 7. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Units
‡πÑ‡∏ü‡∏•‡πå resources/views/admin/units/index.blade.php

blade
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
@extends('layouts.app')

@section('content')
<div class="container">
    <h1>Unit List</h1>
    <a href="{{ route('admin.units.create') }}" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Unit</a>

    @if(session('success'))
        <div class="alert alert-success">{{ session('success') }}</div>
    @endif

    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>Unit Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach ($units as $unit)
                <tr>
                    <td>{{ $loop->iteration }}</td>
                    <td>{{ $unit->name }}</td>
                    <td>
                        <a href="{{ route('admin.units.edit', $unit->id) }}" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i> Edit</a>
                        <form action="{{ route('admin.units.destroy', $unit->id) }}" method="POST" style="display:inline;">
                            @csrf
                            @method('DELETE')
                            <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">
                                <i class="bi bi-trash"></i> Delete
                            </button>
                        </form>
                    </td>
                </tr>
            @endforeach
        </tbody>
    </table>
</div>
@endsection
‚úÖ UI ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

üõ† 8. ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
‡∏õ‡∏±‡∏ç‡∏´‡∏≤	‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏	‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
Target class [UnitController] does not exist.	Laravel ‡∏´‡∏≤ Controller ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠	‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö namespace ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ php artisan cache:clear
Route [units.index] not defined.	Route ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ú‡∏¥‡∏î	‡πÉ‡∏ä‡πâ admin.units.index ‡πÅ‡∏ó‡∏ô
MethodNotAllowedHttpException	‡πÉ‡∏ä‡πâ Method GET ‡πÅ‡∏ó‡∏ô POST	‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Form ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ @method('DELETE')
SQLSTATE: Integrity Constraint Violation	‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ã‡πâ‡∏≥	‡πÄ‡∏û‡∏¥‡πà‡∏° Validation unique:units,name
‚úÖ ‡∏ó‡∏∏‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ñ‡∏π‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢

üîó 9. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π Units ‡πÉ‡∏ô Navbar
‡πÑ‡∏ü‡∏•‡πå resources/views/layouts/navbar.blade.php

blade
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
<li><a class="nav-link" href="{{ route('admin.units.index') }}"><i class="bi bi-rulers"></i> Units</a></li>
‚úÖ Units ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Navbar ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏∑‡πà‡∏ô‡πÜ

üéâ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö Unit ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
‚úÖ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ ‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç / ‡∏•‡∏ö ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ
‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤ UI ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢

üî• ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô 100% üöÄ



































